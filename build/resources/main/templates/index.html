<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Quartz UI</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2rem; }
        .row { margin: 0.5rem 0; }
        button { padding: 0.4rem 0.8rem; }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'">
    <meta name="referrer" content="no-referrer" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="theme-color" content="#ffffff" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="color-scheme" content="light dark" />
    <meta name="handheldfriendly" content="true" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Quartz UI" />
    <meta name="application-name" content="Quartz UI" />
</head>
<body>
<h2>Quartz UI</h2>

<form method="post" action="/trigger">
    <div class="row">
        <label>
            Error Policy:
            <select name="policy">
                <option value="StopOnFirstErrorPolicy">StopOnFirstErrorPolicy</option>
                <option value="SkipAndCollectErrorPolicy">SkipAndCollectErrorPolicy</option>
            </select>
        </label>
    </div>
    <div class="row">
        <label>
            Chain Name:
            <input type="text" name="chainName" value="demo" />
        </label>
    </div>
    <div class="row">
        <button type="submit">Trigger Sample Chain</button>
    </div>
</form>

<form method="post" action="/chain/run">
    <div class="row">
        <label>
            Chain (A -> B) Policy:
            <select name="policy">
                <option value="StopOnFirstErrorPolicy">StopOnFirstErrorPolicy</option>
                <option value="SkipAndCollectErrorPolicy">SkipAndCollectErrorPolicy</option>
                <option value="stop">stop (alias)</option>
                <option value="skip">skip (alias)</option>
            </select>
        </label>
    </div>
    <div class="row">
        <label>
            Composite Chain Name:
            <input name="chainName" value="demo" />
        </label>
    </div>
    <div class="row">
        <button type="submit">Run Chain (A â†’ B)</button>
    </div>
</form>

<h3>Jobs</h3>
<table border="1" cellpadding="6" cellspacing="0">
    <thead>
    <tr>
        <th>Group</th>
        <th>Name</th>
        <th>Triggers</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="j : ${jobDetails}">
        <td th:text="${j.group}"></td>
        <td th:text="${j.name}"></td>
        <td>
            <div th:if="${#lists.isEmpty(j.triggers)}">-</div>
            <ul th:if="${!#lists.isEmpty(j.triggers)}">
                <li th:each="t : ${j.triggers}">
                    <span th:text="${t.key}"></span>
                    <span> | </span>
                    <span th:text="${t.state}"></span>
                    <span> | next: </span>
                    <span th:text="${t.nextFireTime}"></span>
                    <span> | prev: </span>
                    <span th:text="${t.prevFireTime}"></span>
                </li>
            </ul>
        </td>
    </tr>
    <tr th:if="${#lists.isEmpty(jobDetails)}"><td colspan="3">No jobs</td></tr>
    </tbody>
</table>

</body>
</html>


